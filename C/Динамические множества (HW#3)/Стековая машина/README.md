
  <div class="stackedit__html"><p>Пусть  <em>стековая машина</em> – это устройство для выполнения арифметических операций, использующее для хранения промежуточных результатов вычислений стек целых чисел. Подразумевается, что каждая операция берёт операнды из стека и оставляет на стеке результат.</p>
<p>Составьте программу <strong>stackmachine.c</strong>, моделирующую работу стековой машины.</p>
<h4 id="формат-входных-данных">Формат входных данных</h4>
<p>Первая строка, считываемая со стандартного потока ввода, содержит общее количество выполняемых операций  <em>n</em> (0 &lt; <em>n</em> ≤ 100000). Каждая из следующих  <em>n</em> строк содержит описание операции.</p>
<p>Стековая машина должна обеспечивать выполнение следующих операций:</p>
<ol>
<li>CONST  x – кладёт в стек число  x (-1000000000 &lt; x &lt; 1000000000);</li>
<li>ADD – сложение (снимает со стека два операнда  a и  b и кладёт в стек их сумму);</li>
<li>SUB – вычитание (снимает со стека операнд  a, затем снимает со стека операнд  b, кладёт в стек  a - b);</li>
<li>MUL – умножение (снимает со стека два операнда  a и  b и кладёт в стек их произведение);</li>
<li>DIV – деление (снимает со стека операнд  a, затем снимает со стека операнд  b, кладёт в стек результат целочисленного деления  a на  b);</li>
<li>MAX – максимум двух чисел (снимает со стека два операнда  a и  b и кладёт в стек max(a,b));</li>
<li>MIN – минимум двух чисел (снимает со стека два операнда  a и  b и кладёт в стек min(a,b));</li>
<li>NEG – меняет знак числа, находящегося на вершине стека;</li>
<li>DUP – кладёт в стек копию числа, находящегося на вершине стека;</li>
<li>SWAP – меняет местами два числа, находящиеся на вершине стека.</li>
</ol>
<p>Можно считать, что последовательность операций составлена правильно, то есть перед вызовом каждой операции стек содержит нужное ей количество операндов, деление на ноль и переполнение не возникают, и, кроме того, в результате выполнения всех операций на стеке остаётся единственное число.</p>
<h4 id="формат-результата-работы-программы">Формат результата работы программы</h4>
<p>В стандартный поток вывода необходимо вывести число, оставшееся на вершине стека в результате выполнения последовательности операций.</p>
<h4 id="пример-работы-программы">Пример работы программы</h4>
<table id="TBL-1" class="tabular" cellspacing="0" cellpadding="0" rules="groups"><tbody><tr id="TBL-1-1-"><td id="TBL-1-1-1" class="td11"> <!--l. 85--><p class="noindent">Входные
  данные                                   </p></td><td id="TBL-1-1-2" class="td11"> <!--l. 86--><p class="noindent">Выходные
  данные                                   </p></td>
</tr><tr id="TBL-1-2-"><td id="TBL-1-2-1" class="td11"> <!--l. 89-->
    <div class="lstlisting" id="listing-1"><span class="label"><a id="x1-3001r1"></a></span>6&nbsp;<br><span class="label"><a id="x1-3002r2"></a></span>CONST&nbsp;10&nbsp;<br><span class="label"><a id="x1-3003r3"></a></span>NEG&nbsp;<br><span class="label"><a id="x1-3004r4"></a></span>CONST&nbsp;20&nbsp;<br><span class="label"><a id="x1-3005r5"></a></span>SUB&nbsp;<br><span class="label"><a id="x1-3006r6"></a></span>CONST&nbsp;15&nbsp;<br><span class="label"><a id="x1-3007r7"></a></span>MAX
  </div>
  <!--l. 98--><p class="noindent">                                              </p></td><td id="TBL-1-2-2" class="td11"> <!--l. 99-->
    <div class="lstlisting" id="listing-2"><span class="label"><a id="x1-3008r1"></a></span>30
  </div>
  <!--l. 103--><p class="noindent">                                             </p></td>
</tr></tbody></table>
</div>

